## 大多数情况下执行正常，偶尔执行过慢
### 数据库在刷新脏页
当我们往数据库中写入一条数据或者更新一条数据时，数据库会先在内存中把相应的字段更新，但是更新之后，这些更新的字段并不是立即同步持久化到硬盘中，而是把这些更新记录到redo log中，等到空闲的时候，再通过redo log里面的日志把最新的数据同步到磁盘中。

当内存数据页和磁盘数据页内容不一致时，这个内存页被称为“脏页”，内存中的数据同步到磁盘之后，内存和磁盘中的数据页的内容一致，那么这个内存页被称为“干净页”。

#### 刷新脏页有以下几种情况
1. redo log写满了：由于redo log的容量是有限的，如果频繁的更新数据库，这个时候redo log会很快的被写满，这个时候就无法等到空闲的时候再去把数据同步到磁盘中，只能暂停其他的操作，现将数据同步到磁盘。这时就会出现平时执行正常的SQL语句突然变的很慢。  
2. 内存不够用：如果一次查询的数据比较多，恰巧碰到所需要的数据页不在内存中需要申请内存，而此时内存不足就需要淘汰一部分数据页，如果是干净页就直接释放，如果是脏页，就需要刷脏页

### 拿不到锁
我们要执行的这条语句，涉及到的表搞好别人再用，并且加锁了，这时我们就无法获取锁，只能等待别人释放锁。或者表没有加锁，但是要使用的某一行加锁了，也是需要等待锁的释放。

